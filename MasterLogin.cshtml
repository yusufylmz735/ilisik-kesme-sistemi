@{
    ViewData["Title"] = "Master Giriş";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />

<div class="container-fluid">
    <div class="row justify-content-center align-items-center" style="min-height: 100vh;">
        <div class="col-md-6 col-lg-4">
            <div class="card shadow">
                <div class="card-header bg-primary text-white text-center">
                    <h3><i class="fas fa-shield-alt"></i> Master Giriş</h3>
                </div>
                <div class="card-body">
                    @if (!string.IsNullOrEmpty(ViewBag.Error))
                    {
                        <div class="alert alert-danger" role="alert">
                            @ViewBag.Error
                        </div>
                    }
                    @if (!string.IsNullOrEmpty(ViewBag.Success))
                    {
                        <div class="alert alert-success" role="alert">
                            @ViewBag.Success
                        </div>
                    }
                    <form method="post" asp-action="MasterLogin">
                        @Html.AntiForgeryToken()
                        <div class="mb-3">
                            <label class="form-label">Master Key <span class="text-danger">*</span></label>
                            <input type="text" class="form-control" name="masterKey" required autofocus />
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Günlük Şifre <span class="text-danger">*</span></label>
                            <input type="text" class="form-control" name="masterPassword" required />
                            <small class="form-text text-muted">@ViewBag.DailyPasswordHint</small>
                        </div>
                        <button type="submit" class="btn btn-primary w-100">
                            <i class="fas fa-sign-in-alt"></i> Giriş Yap
                        </button>
                    </form>
                </div>
                <div class="card-footer text-center text-muted">
                    <small>© 2025 Şırnak Üniversitesi</small>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        $(document).ready(function () {
            // Form giriş alanına otomatik fokus
            $('input[name="masterKey"]').focus();

            // Enter tuşu ile form gönderimi
            $('input').on('keypress', function (e) {
                if (e.which === 13) {
                    $('form').submit();
                }
            });

            // Alert mesajlarını 5 saniye sonra otomatik kapat
            setTimeout(function () {
                $('.alert').alert('close');
            }, 5000);
        });
    </script>
}